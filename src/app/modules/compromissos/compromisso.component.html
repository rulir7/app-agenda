<div class="container mt-4">
    <h2>Compromissos Agendados</h2>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Título</th>
                <th>Data</th>
                <th>Hora</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let compromisso of compromissos">
                <td>{{ compromisso.titulo }}</td>
                <td>{{ compromisso.data }}</td>
                <td>{{ compromisso.hora }}</td>
                <td>
                    <button class="btn btn-warning btn-sm" (click)="selecionarCompromisso(compromisso)">Editar</button>
                    <button class="btn btn-danger btn-sm" (click)="excluirCompromisso(compromisso.id!)">Excluir</button>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="compromissoSelecionado" class="mt-4">
        <h3>Editar Compromisso</h3>
        <form (ngSubmit)="salvarCompromisso()">
            <div class="mb-3">
                <label class="form-label">Título</label>
                <input class="form-control" [(ngModel)]="compromissoSelecionado.titulo" name="titulo" required />
            </div>
            <div class="mb-3">
                <label class="form-label">Descrição</label>
                <input class="form-control" [(ngModel)]="compromissoSelecionado.descricao" name="descricao" required />
            </div>
            <div class="mb-3">
                <label class="form-label">Data</label>
                <input type="date" class="form-control" [(ngModel)]="compromissoSelecionado.data" name="data"
                    required />
            </div>
            <div class="mb-3">
                <label class="form-label">Hora</label>
                <input type="time" class="form-control" [(ngModel)]="compromissoSelecionado.hora" name="hora"
                    required />
            </div>
            <button type="submit" class="btn btn-primary">Salvar</button>
            <button type="button" class="btn btn-secondary ms-2"
                (click)="compromissoSelecionado = null">Cancelar</button>
        </form>
    </div>
</div>